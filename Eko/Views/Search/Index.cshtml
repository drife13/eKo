@model Eko.Models.SearchViewModels.SearchViewModel

<form asp-controller="Search" asp-action="Index" enctype="multipart/form-data" method="get">

    <div class="form-group">
        <label asp-for="Query"></label>
        <input class="form-control" asp-for="Query" />
        <span asp-validation-for="Query"></span>
    </div>

    <div class="form-group">
        <label asp-for="Brand"></label>
        <select asp-for="Brand" asp-items="@Model.Brands"></select>
        <span asp-validation-for="Brand"></span>
    </div>

    <div class="form-group">
        <label asp-for="Condition"></label>
        <select asp-for="Condition" asp-items="@Model.Conditions"></select>
        <span asp-validation-for="Condition"></span>
    </div>

    <div class="form-group">
        <label asp-for="CategoryID"></label>
        <select asp-for="CategoryID" asp-items="@Model.Categories"></select>
        <span asp-validation-for="CategoryID"></span>
    </div>

    <div class="form-group">
        <label asp-for="YearMin"></label>
        <input class="form-control" asp-for="YearMin" />
        <span asp-validation-for="YearMin"></span>
    </div>

    <div class="form-group">
        <label asp-for="YearMax"></label>
        <input class="form-control" asp-for="YearMax" />
        <span asp-validation-for="YearMax"></span>
    </div>

    <div class="form-group">
        <label asp-for="PriceMin"></label>
        <input class="form-control" asp-for="PriceMin" />
        <span asp-validation-for="PriceMin"></span>
    </div>

    <div class="form-group">
        <label asp-for="PriceMax"></label>
        <input class="form-control" asp-for="PriceMax" />
        <span asp-validation-for="PriceMax"></span>
    </div>

    <div class="form-group">
        <label asp-for="Sort"></label>
        <select asp-for="Sort" asp-items="@Model.SortOptions"></select>
        <span asp-validation-for="Sort"></span>
    </div>

    <input type="submit" value="Search" />

</form>

@if (Model.Items.Count != 0)
{
    <table class="table">
        <tr>
            <th>Title</th>
            <th>Category</th>
            <th>Brand</th>
            <th>Model</th>
            <th>Year</th>
            <th>Price</th>
        </tr>

        @foreach (var item in Model.Items)
        {
            <tr>
                <td><a asp-controller="Items" asp-action="ViewItem" asp-route-id="@item.ID">@item.Title</a></td>
                <td>@item.Category.FullName</td>                
                <td>@item.Brand.Name</td>
                <td>@item.Model.Name</td>
                <td>@item.Year</td>
                <td>$@item.Price</td>
            </tr>
        }
    </table>
}
else
{
    <br/>
    <p>No results!</p>
}